:root {
  --bg:#050711;
  --bg2:#050915;
  --panel:rgba(11,15,32,.96);
  --panel2:rgba(9,13,26,.98);
  --border:rgba(163,189,255,.3);
  --text:#e8f1ff;
  --muted:#9fb5d8;
  --accent:#00aeef;
  --accent2:#3bd0ff;
  --danger:#ff4b6b;
}

*{margin:0;padding:0;box-sizing:border-box;}
html,body{height:100%;}
body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  background:radial-gradient(circle at 10% 0,#061426 0,transparent 55%),
             radial-gradient(circle at 90% 100%,#190b2a 0,transparent 55%),
             linear-gradient(180deg,#02030a,#000);
  color:var(--text);
  overflow:hidden;
}

/* particles canvas */
#particles{
  position:fixed;
  inset:0;
  z-index:-2;
}

/* toast */
#toast-root{
  position:fixed;
  top:10px;
  right:10px;
  display:flex;
  flex-direction:column;
  gap:8px;
  z-index:2000;
}
.toast{
  min-width:220px;
  padding:8px 10px;
  border-radius:999px;
  font-size:12px;
  border:1px solid rgba(255,255,255,.15);
  background:rgba(8,13,26,.95);
  box-shadow:0 18px 40px rgba(0,0,0,.85);
}
.toast.ok{border-color:rgba(45,212,191,.7);}
.toast.err{border-color:rgba(248,113,113,.85);}

.hidden{display:none!important;}

/* LOGIN */
.login-wrapper{
  position:relative;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
}

.cmyk-orbits{
  position:absolute;
  inset:-30%;
  opacity:.7;
  pointer-events:none;
  z-index:-1;
}
.cmyk-orbits .orbit{
  position:absolute;
  width:260%;
  height:260%;
  border-radius:50%;
  mix-blend-mode:screen;
}
.orbit-c{
  border-top:2px solid rgba(0,174,239,.9);
  border-bottom:2px solid rgba(0,174,239,.18);
  animation:orbitC 26s linear infinite;
}
.orbit-m{
  border-top:2px solid rgba(236,72,153,.9);
  border-bottom:2px solid rgba(236,72,153,.16);
  animation:orbitM 32s linear infinite;
}
.orbit-y{
  border-top:2px solid rgba(250,204,21,.9);
  border-bottom:2px solid rgba(250,204,21,.16);
  animation:orbitY 38s linear infinite;
}
.orbit-k{
  border-top:2px solid rgba(15,23,42,.9);
  border-bottom:2px solid rgba(15,23,42,.8);
  animation:orbitK 46s linear infinite;
}
@keyframes orbitC{from{transform:rotate(0);}to{transform:rotate(360deg);}}
@keyframes orbitM{from{transform:rotate(360deg);}to{transform:rotate(0);}}
@keyframes orbitY{from{transform:rotate(0);}to{transform:rotate(-360deg);}}
@keyframes orbitK{from{transform:rotate(180deg);}to{transform:rotate(-180deg);}}

/* glass card */
.glass{
  background:radial-gradient(circle at 0 0,rgba(0,174,239,.18),transparent 55%),rgba(8,13,26,.96);
  border-radius:18px;
  border:1px solid var(--border);
  box-shadow:0 30px 60px rgba(0,0,0,.9);
  backdrop-filter:blur(18px);
}

.login-card{
  width:min(400px,92vw);
  padding:24px 24px 20px;
}

.login-logo{
  display:flex;
  align-items:center;
  gap:10px;
  margin-bottom:16px;
}
.logo-mark{
  width:40px;
  height:40px;
  border-radius:20px;
  background:radial-gradient(circle at 30% 20%,#3bd0ff,#00aeef);
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 0 18px rgba(0,174,239,.7);
}
.logo-mark.small{width:30px;height:30px;border-radius:15px;}
.logo-dot{
  width:14px;
  height:14px;
  border-radius:50%;
  background:rgba(0,0,0,.7);
  border:2px solid rgba(255,255,255,.4);
}
.logo-text{display:flex;flex-direction:column;}
.logo-title{
  font-size:18px;
  font-weight:600;
}
.logo-sub{
  font-size:11px;
  color:var(--muted);
}

.login-label{
  display:block;
  font-size:12px;
  color:var(--muted);
  margin-top:8px;
  margin-bottom:4px;
}
.login-input{
  width:100%;
  padding:8px 10px;
  border-radius:11px;
  border:1px solid rgba(148,191,255,.45);
  background:radial-gradient(circle at 0 0,rgba(63,131,248,.25),rgba(7,12,25,.96));
  color:var(--text);
  font-size:13px;
}
.login-input:focus{
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 0 1px rgba(0,174,239,.7);
}
.login-btn{
  width:100%;
  margin-top:16px;
  padding:9px 0;
  border-radius:999px;
  border:none;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#f9fbff;
  font-weight:600;
  font-size:14px;
  cursor:pointer;
  box-shadow:0 0 18px rgba(0,174,239,.8);
}
.login-note{
  margin-top:10px;
  font-size:11px;
  color:var(--muted);
  text-align:center;
}

/* APP HEADER */
.app{
  position:fixed;
  inset:0;
  display:flex;
  flex-direction:column;
}
.app-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:10px 18px;
}
.app-header-left{display:flex;align-items:center;gap:8px;}
.header-logo{display:flex;align-items:center;gap:8px;}
.hdr-title{font-size:15px;font-weight:600;}
.hdr-sub{font-size:11px;color:var(--muted);}

.app-header-right{display:flex;align-items:center;gap:8px;}
.user-pill{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:4px 9px;
  border-radius:999px;
  border:1px solid rgba(148,191,255,.4);
  background:rgba(6,10,25,.95);
  font-size:11px;
}
.status-dot{
  width:8px;
  height:8px;
  border-radius:50%;
  background:radial-gradient(circle at 30% 30%,#4ade80,#16a34a);
}

/* LAYOUT */
.layout{
  flex:1;
  display:flex;
  gap:8px;
  padding:6px 12px 12px;
  min-height:0;
}
.sidebar{
  width:220px;
  border-radius:16px;
  background:radial-gradient(circle at 0 0,rgba(0,174,239,.26),transparent 55%),rgba(7,11,22,.98);
  border:1px solid rgba(148,191,255,.3);
  box-shadow:0 30px 60px rgba(0,0,0,.95);
  padding:10px 10px 14px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.side-group{
  padding:8px;
  border-radius:12px;
  background:linear-gradient(180deg,rgba(12,18,32,.96),rgba(7,10,22,.98));
}
.side-label{
  font-size:10px;
  text-transform:uppercase;
  letter-spacing:.14em;
  color:var(--muted);
  margin-bottom:4px;
}
.side-item{
  width:100%;
  border:none;
  background:transparent;
  color:var(--muted);
  font-size:13px;
  text-align:left;
  padding:7px 8px;
  border-radius:10px;
  cursor:pointer;
}
.side-item:hover{
  background:rgba(255,255,255,.05);
  color:var(--text);
}
.side-item.active{
  background:linear-gradient(135deg,rgba(0,174,239,.9),rgba(59,208,255,.9));
  color:#f5fbff;
  box-shadow:0 0 18px rgba(0,174,239,.8);
}
.side-bottom{margin-top:auto;}

.btn{
  border-radius:999px;
  border:1px solid rgba(148,191,255,.4);
  background:rgba(5,9,20,.98);
  color:var(--text);
  font-size:12px;
  padding:6px 12px;
  cursor:pointer;
}
.btn.small{padding:5px 8px;font-size:11px;}
.btn.primary{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#f9fbff;
  box-shadow:0 0 18px rgba(0,174,239,.8);
  border-color:rgba(0,174,239,.9);
}
.btn.ghost{
  background:rgba(5,9,20,.9);
}

/* MAIN */
.main{
  flex:1;
  min-width:0;
  border-radius:18px;
  border:1px solid rgba(148,191,255,.3);
  background:radial-gradient(circle at 0 0,rgba(0,174,239,.16),transparent 55%),
             radial-gradient(circle at 100% 100%,rgba(124,58,237,.18),transparent 55%),
             rgba(4,7,18,.98);
  padding:12px;
  overflow:auto;
}
.page{min-height:100%;}

.page-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:10px;
}
.page-header h1{font-size:20px;}
.page-header p{font-size:12px;color:var(--muted);}

/* GRID */
.grid{display:grid;gap:10px;}
.grid-kpi{grid-template-columns:repeat(4,minmax(0,1fr));margin-bottom:10px;}
.grid-2{grid-template-columns:repeat(2,minmax(0,1fr));margin-bottom:10px;}
.grid-3{grid-template-columns:repeat(3,minmax(0,1fr));margin-bottom:10px;}

/* PANEL */
.panel{
  border-radius:16px;
  background:var(--panel2);
  border:1px solid var(--border);
  box-shadow:0 22px 45px rgba(0,0,0,.9);
  padding:12px 14px;
}
.panel-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:8px;
}
.panel-header h3{font-size:14px;}
.panel-header p{font-size:11px;color:var(--muted);}

/* KPI */
.kpi{
  background:radial-gradient(circle at 0 0,rgba(0,174,239,.2),transparent 55%),var(--panel);
}
.kpi-label{font-size:11px;color:var(--muted);}
.kpi-value{margin-top:6px;font-size:24px;font-weight:600;}
.kpi-value.small{font-size:14px;}
.kpi-foot{margin-top:4px;font-size:11px;color:var(--muted);}

/* pill cloud */
.pill-cloud{display:flex;flex-wrap:wrap;gap:6px;}
.pill{
  padding:3px 8px;
  border-radius:999px;
  border:1px solid rgba(148,191,255,.4);
  background:rgba(7,11,22,.96);
  font-size:11px;
}

/* form */
.field{display:flex;flex-direction:column;gap:3px;margin-bottom:4px;}
.field label{font-size:11px;color:var(--muted);}
.input,textarea.input,select.input{
  width:100%;
  padding:7px 9px;
  border-radius:10px;
  border:1px solid rgba(148,191,255,.4);
  background:rgba(5,9,20,.98);
  color:var(--text);
  font-size:12px;
}
textarea.input{resize:vertical;}
.input:focus{
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 0 1px rgba(0,174,239,.7);
}

.steps-wrap{display:flex;flex-direction:column;gap:6px;margin-top:4px;}
.step-chip{
  display:flex;
  align-items:flex-start;
  gap:6px;
  padding:5px 7px;
  border-radius:10px;
  border:1px solid rgba(148,191,255,.4);
  background:rgba(5,9,20,.96);
}
.step-chip span{
  font-size:11px;
  color:var(--muted);
  margin-top:2px;
}
.step-chip textarea{
  flex:1;
}

/* chips */
.chips{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin-top:5px;
}
.chip{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:3px 8px;
  border-radius:999px;
  border:1px solid rgba(148,191,255,.4);
  background:rgba(5,9,20,.96);
  font-size:11px;
}
.chip button{
  border:none;
  background:transparent;
  color:var(--muted);
  cursor:pointer;
}

/* actions */
.actions{
  display:flex;
  justify-content:flex-end;
  gap:8px;
  margin-top:10px;
}

/* table (All cases & dashboard recent) */
.table-wrap{
  margin-top:4px;
  border-radius:12px;
  overflow:hidden;
  border:1px solid rgba(148,191,255,.35);
}
table{width:100%;border-collapse:collapse;font-size:12px;}
th,td{
  padding:7px 9px;
  border-bottom:1px solid rgba(148,191,255,.2);
}
th{
  background:rgba(7,10,24,.98);
  text-align:left;
  font-weight:500;
  color:var(--muted);
}
tbody tr:hover td{background:rgba(15,23,42,.96);}
.btn-table{
  padding:4px 9px;
  border-radius:999px;
  border:none;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#fff;
  font-size:11px;
  cursor:pointer;
}

/* modal */
.modal-backdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:1500;
}
.modal{
  width:min(760px,96vw);
  max-height:90vh;
  overflow:auto;
  padding:14px 16px;
  border-radius:18px;
  background:rgba(6,10,24,.98);
  border:1px solid rgba(148,191,255,.45);
  box-shadow:0 26px 70px rgba(0,0,0,.95);
}

/* RCA */
#fbRoot .progress{display:flex;flex-wrap:wrap;gap:6px;margin:4px 0 8px;}
#fbRoot .step{
  padding:4px 8px;
  border-radius:999px;
  border:1px solid rgba(148,191,255,.4);
  font-size:11px;
  color:var(--muted);
}
#fbRoot .step.active{
  background:linear-gradient(135deg,rgba(0,174,239,.5),rgba(59,208,255,.5));
  color:#f8fbff;
}
#fbRoot .crumbs{display:flex;flex-wrap:wrap;gap:5px;margin-bottom:6px;}
#fbRoot .crumb{
  padding:3px 7px;
  border-radius:999px;
  border:1px solid rgba(148,191,255,.4);
  font-size:11px;
  color:var(--muted);
}
#fbRoot .qa{display:flex;flex-direction:column;gap:6px;}
#fbRoot .opt{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:7px 9px;
  border-radius:10px;
  border:1px solid rgba(148,191,255,.4);
  background:rgba(7,10,24,.98);
  font-size:12px;
  cursor:pointer;
}
#fbRoot .opt:hover{
  background:linear-gradient(135deg,rgba(0,174,239,.4),rgba(4,7,17,.98));
}
#fbRoot .panel-lite{
  margin-top:8px;
  padding:8px 10px;
  border-radius:12px;
  border:1px solid rgba(148,191,255,.4);
  background:rgba(4,8,20,.98);
}
#fbRoot .panel-lite h4{font-size:13px;margin-bottom:4px;}
#fbRoot .panel-lite p{font-size:12px;color:var(--muted);}

/* responsive */
@media(max-width:1024px){
  .layout{flex-direction:column;}
  .sidebar{
    width:auto;
    flex-direction:row;
    align-items:flex-start;
  }
  .main{margin-top:6px;}
  .grid-kpi{grid-template-columns:repeat(2,minmax(0,1fr));}
}
@media(max-width:720px){
  .grid-kpi,.grid-2,.grid-3{grid-template-columns:1fr;}
  .app-header{flex-direction:column;align-items:flex-start;gap:6px;}
  .sidebar{flex-wrap:wrap;}
}
